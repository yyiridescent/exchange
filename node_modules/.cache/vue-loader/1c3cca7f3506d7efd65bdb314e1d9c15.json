{"remainingRequest":"D:\\开发目录\\test-main\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发目录\\test-main\\vue-project\\src\\components\\listpage.vue?vue&type=style&index=0&id=e402fc86&scoped=true&lang=css&","dependencies":[{"path":"D:\\开发目录\\test-main\\vue-project\\src\\components\\listpage.vue","mtime":1687948645000},{"path":"D:\\开发目录\\test-main\\vue-project\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\开发目录\\test-main\\vue-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\开发目录\\test-main\\vue-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\开发目录\\test-main\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发目录\\test-main\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.list .van-nav-bar {\n  width: 95%;\n}\n.list .van-nav-bar__arrow {\n  font-size: 20px;\n  color: #000;\n}\n.list .van-nav-bar__title {\n  font-weight: 700;\n}\n.list .tohost {\n  position: fixed;\n  top: 0.4rem;\n  z-index: 12;\n  right: 0.2rem;\n}\n.list .tohost img {\n  width: 0.5rem;\n}\n.list .van-nav-bar .van-icon-search {\n  color: #000;\n  font-size: 0.7rem;\n}\n/* 头部列表 */\n.list .headlistbox::-webkit-scrollbar {\n  background-color: #fff;\n}\n.list .flexbottom {\n  margin-top: 3.5rem;\n}\n.list .van-dropdown-menu {\n  position: fixed;\n  width: 100%;\n  top: 2rem;\n  z-index: 999;\n  padding-right: 10%;\n}\n.list .van-nav-bar {\n  position: fixed;\n  top: 0;\n}\n.list .overbox {\n  position: fixed;\n  top: 1.4rem;\n  width: 100%;\n  z-index: 999;\n  padding-right: 10%;\n  padding-left: 0.5rem;\n  background: #fff;\n  z-index: 999;\n}\n.list .headlistbox {\n  overflow-x: auto;\n}\n.list .headlist::after {\n  content: \"\";\n  height: 0;\n  clear: both;\n  display: block;\n  overflow: hidden;\n  visibility: hidden;\n}\n.list .headlistbox .more-goodstype {\n  position: fixed;\n  top: 1.4rem;\n  right: 0.2rem;\n  z-index: 999;\n}\n.list .headlistbox .more-goodstype i {\n  position: absolute;\n  left: 0px;\n  height: 0.45rem;\n  background: #ccc;\n  width: 1px;\n  top: 0.2rem;\n  left: 0.05rem;\n}\n.list .headlistbox .more-goodstype img {\n  width: 0.8rem;\n}\n.list .headlist {\n  width: 2000px;\n}\n.list .headlist li {\n  float: left;\n  line-height: 0.4rem;\n  font-size: 0.4rem;\n  padding: 0 0.4rem;\n  color: #666;\n  box-sizing: border-box;\n  padding-bottom: 0.5rem;\n}\n.list .headlist li.active {\n  color: #39f;\n  border-bottom: 2px solid #39f;\n  font-weight: 700;\n}\n.list .shophead i {\n  font-size: 0.26667rem;\n  display: inline-block;\n  vertical-align: middle;\n  padding: 0.02667rem 0.13333rem;\n  border-radius: 0.08rem;\n  margin-right: 0.05333rem;\n  margin-top: -0.08rem;\n  background: linear-gradient(90deg, #55c91c, #61ac14);\n  color: white;\n}\n.list .shophead h2 {\n  display: inline;\n  font-size: 0.4rem;\n  font-weight: 400;\n  color: #333;\n}\n.list .shophead p {\n  color: #999;\n  font-size: 0.32rem;\n  line-height: 0.64rem;\n}\n.list .shophead span {\n  color: #ff6700;\n  font-size: 0.45333rem;\n  font-weight: 700;\n  overflow: hidden;\n}\n.list .shopleft {\n  float: left;\n}\n.list .shopright {\n  float: right;\n}\n",{"version":3,"sources":["listpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listpage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"list\">\n    <div class=\"flex\">\n      <i class=\"tohost\">\n        <img :src=\"Sy\" alt />\n      </i>\n      <van-nav-bar title=\"地下城与勇士\" left-arrow @click-left=\"tohost\">\n        <van-icon name=\"search\" slot=\"right\" />\n      </van-nav-bar>\n      <div class=\"overbox\">\n        <div class=\"headlistbox\">\n          <div class=\"more-goodstype\">\n            <img :src=\"Xl\" alt />\n            <i></i>\n          </div>\n          <ul class=\"headlist\" ref=\"headlist\">\n            <li\n              v-for=\"(value,index) in headlist\"\n              :key=\"index\"\n              v-text=\"value.gtidname\"\n              :class=\"[{list1:true},{active:active1==index}]\"\n              @click=\"onlist(index)\"\n            ></li>\n          </ul>\n        </div>\n      </div>\n      <van-dropdown-menu>\n        <van-dropdown-item title=\"选择区服\" ref=\"item\">\n          <van-tree-select\n            :items=\"xzqf\"\n            :main-active-index=\"mainActiveIndex\"\n            :active-id=\"activeId\"\n            @click-nav=\"onClickNav\"\n            @click-item=\"onClickItem\"\n          />\n        </van-dropdown-item>\n        <van-dropdown-item v-model=\"value\" :options=\"option\" @change=\"sortlist(value)\" />\n        <van-dropdown-item title=\"高级筛选\"></van-dropdown-item>\n      </van-dropdown-menu>\n    </div>\n    <div class=\"flexbottom\">\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n        <van-cell v-for=\"(item,index) in list\" :key=\"index\" @click=\"todetail(index)\">\n          <div class=\"shoplist\">\n            <div class=\"shophead\">\n              <i>卖家发货</i>\n              <h2 v-text=\"item.title\"></h2>\n              <div class=\"shopbottom\">\n                <div class=\"shopleft\">\n                  <p>区服:{{item.groupName}}/{{item.serverName}}</p>\n                  <p>\n                    库存\n                    <em>{{item.stock}}</em>件\n                  </p>\n                </div>\n                <div class=\"shopright\">\n                  <span>￥{{item.price}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </van-cell>\n      </van-list>\n    </div>\n  </div>\n</template>\n<script>\nimport Sy from \"./sy.png\";\nimport Xl from \"./xl.png\";\n// import Jquery from \"jquey\";\nexport default {\n  data() {\n    return {\n      Sy,\n      Xl,\n      headlist: \"\",\n      value: 0,\n      //弹出层显示\n      show: true,\n      //headlist默认高亮\n      active1: 0,\n      xzqf: \"\",\n      mainActiveIndex: 0,\n      // 被选中元素的id\n      activeId: 1,\n      option: [\n        { text: \"默认排序\", value: 0 },\n        { text: \"总价最低\", value: 1 },\n        { text: \"发布时间\", value: 2 }\n      ],\n      //列表懒加载\n      list: [],\n      loading: false,\n      finished: false,\n      //存全部数据\n      alllist: [],\n      oldalllist: []\n    };\n  },\n  methods: {\n    tohost() {\n      this.$router.push({\n        path: \"/footer/home\"\n      });\n    },\n    onClickNav(index) {\n      this.mainActiveIndex = index;\n    },\n    onClickItem(data) {\n      this.activeId = data.id;\n      let arr = [];\n      console.log(data.text);\n      this.alllist.forEach((item, index) => {\n        if (item.serverName == data.text) {\n          arr.push(item);\n        }\n      });\n      this.list.length = 0;\n      this.list = arr.concat();\n    },\n    onlist(a) {\n      // console.log(this.$el.children[2].children[1]);\n      this.active1 = a;\n      console.log(this.active1);\n      let ul = this.$el.children[2].children[1];\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].classList.remove(\"active\");\n      }\n      ul.children[a].classList.add(\"active\");\n    },\n    async onLoad() {\n      let str2 = await this.$axios(\"http://localhost:10130/list\");\n      // this.list = [...this.list, ...str2.data[0].body.results];\n      //如果数组为空就赋值不为空就不用重新赋值\n      this.alllist = this.alllist.length\n        ? this.alllist\n        : str2.data[0].body.results;\n      this.oldalllist = this.alllist.concat();\n      this.$store.state.alllists = this.alllist;\n      for (let i = 0; i < 15; i++) {\n        this.list.push(this.alllist[this.list.length]);\n      }\n      // 加载状态结束\n      this.loading = false;\n      // 数据全部加载完成\n      if (this.list.length >= 80) {\n        this.finished = true;\n      }\n    },\n    sortlist(index) {\n      if (index == 1) {\n        this.list.length = 0;\n        let b = this.alllist.sort(function(a, b) {\n          return a.price - b.price;\n        });\n        this.alllist = b;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(b[i]);\n        }\n      } else if (index == 2) {\n        this.list.length = 0;\n        for (var i = 0; i < this.alllist.length; i++) {\n          var data = new Date(this.alllist[i].createtime);\n          var time = data.getTime();\n          this.alllist[i].time = time;\n        }\n        let b = this.alllist.sort(function(a, b) {\n          return b.time - a.time;\n        });\n        this.alllist = b;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(b[i]);\n        }\n      } else if (index == 0) {\n        this.alllist = this.oldalllist.concat();\n        this.list.length = 0;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(this.alllist[i]);\n        }\n      }\n    },\n    //列表单击事件\n    todetail(index) {\n      this.$store.state.url = location.href;\n      window.location.href = `#/detail/${index}`;\n    }\n  },\n  async created() {\n    let str = await this.$axios(\"http://localhost:10130/listhead\");\n    this.headlist = str.data[0].body.gttype;\n    //区服分类\n    let arr = str.data[0].body.list;\n    for (let i = 0; i < arr.length; i++) {\n      arr[i].text = arr[i].name;\n      for (let j = 0; j < arr[i].children.length; j++) {\n        arr[i].children[j].text = arr[i].children[j].name;\n      }\n    }\n    this.xzqf = arr;\n    // let str2 = await this.$axios(\"http://localhost:10130/list\");\n    // this.$store.state.alllists = str2.data[0].body.results;\n    this.onLoad();\n    //获取列表\n    // let str2 = await this.$axios(\"http://localhost:10130/list\");\n    // let arr2 = str2.data[0].body.results;\n    // this.list = arr2;\n    // console.log(arr2);\n  },\n  mounted() {}\n};\n</script>\n<style scoped>\n.list .van-nav-bar {\n  width: 95%;\n}\n.list .van-nav-bar__arrow {\n  font-size: 20px;\n  color: #000;\n}\n.list .van-nav-bar__title {\n  font-weight: 700;\n}\n.list .tohost {\n  position: fixed;\n  top: 0.4rem;\n  z-index: 12;\n  right: 0.2rem;\n}\n.list .tohost img {\n  width: 0.5rem;\n}\n.list .van-nav-bar .van-icon-search {\n  color: #000;\n  font-size: 0.7rem;\n}\n/* 头部列表 */\n.list .headlistbox::-webkit-scrollbar {\n  background-color: #fff;\n}\n.list .flexbottom {\n  margin-top: 3.5rem;\n}\n.list .van-dropdown-menu {\n  position: fixed;\n  width: 100%;\n  top: 2rem;\n  z-index: 999;\n  padding-right: 10%;\n}\n.list .van-nav-bar {\n  position: fixed;\n  top: 0;\n}\n.list .overbox {\n  position: fixed;\n  top: 1.4rem;\n  width: 100%;\n  z-index: 999;\n  padding-right: 10%;\n  padding-left: 0.5rem;\n  background: #fff;\n  z-index: 999;\n}\n.list .headlistbox {\n  overflow-x: auto;\n}\n.list .headlist::after {\n  content: \"\";\n  height: 0;\n  clear: both;\n  display: block;\n  overflow: hidden;\n  visibility: hidden;\n}\n.list .headlistbox .more-goodstype {\n  position: fixed;\n  top: 1.4rem;\n  right: 0.2rem;\n  z-index: 999;\n}\n.list .headlistbox .more-goodstype i {\n  position: absolute;\n  left: 0px;\n  height: 0.45rem;\n  background: #ccc;\n  width: 1px;\n  top: 0.2rem;\n  left: 0.05rem;\n}\n.list .headlistbox .more-goodstype img {\n  width: 0.8rem;\n}\n.list .headlist {\n  width: 2000px;\n}\n.list .headlist li {\n  float: left;\n  line-height: 0.4rem;\n  font-size: 0.4rem;\n  padding: 0 0.4rem;\n  color: #666;\n  box-sizing: border-box;\n  padding-bottom: 0.5rem;\n}\n.list .headlist li.active {\n  color: #39f;\n  border-bottom: 2px solid #39f;\n  font-weight: 700;\n}\n.list .shophead i {\n  font-size: 0.26667rem;\n  display: inline-block;\n  vertical-align: middle;\n  padding: 0.02667rem 0.13333rem;\n  border-radius: 0.08rem;\n  margin-right: 0.05333rem;\n  margin-top: -0.08rem;\n  background: linear-gradient(90deg, #55c91c, #61ac14);\n  color: white;\n}\n.list .shophead h2 {\n  display: inline;\n  font-size: 0.4rem;\n  font-weight: 400;\n  color: #333;\n}\n.list .shophead p {\n  color: #999;\n  font-size: 0.32rem;\n  line-height: 0.64rem;\n}\n.list .shophead span {\n  color: #ff6700;\n  font-size: 0.45333rem;\n  font-weight: 700;\n  overflow: hidden;\n}\n.list .shopleft {\n  float: left;\n}\n.list .shopright {\n  float: right;\n}\n</style>\n\n\n"]}]}