{"remainingRequest":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\src\\components\\buy.vue?vue&type=style&index=0&id=ac114cb4&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\src\\components\\buy.vue","mtime":1565596243000},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\css-loader\\index.js","mtime":1683509030216},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683509029692},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\postcss-loader\\src\\index.js","mtime":1683509029491},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683509031364},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1683509028638}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#app .van-index-bar__sidebar {\n  height: 80% !important;\n  overflow: auto;\n}\n.van-index-bar__index {\n  font-size: 20px !important;\n}\n",{"version":3,"sources":["buy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA","file":"buy.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"mine\">\n    <van-search placeholder=\"搜索您心仪的游戏名称\" v-model=\"value\" />\n    <van-index-bar ref=\"usernameInput\"></van-index-bar>\n    <van-tabs v-model=\"active\" ref=\"allgame\">\n      <van-tab title=\"全部\">\n        <van-grid :column-num=\"4\">\n          <van-grid-item\n            v-for=\"(value,index) in allgames.allhot\"\n            :key=\"index\"\n            :icon=\"value.imgurl\"\n            :text=\"value.gameName\"\n            to=\"/list\"\n          />\n        </van-grid>\n      </van-tab>\n      <van-tab title=\"手游\">\n        <van-grid :column-num=\"4\">\n          <van-grid-item\n            v-for=\"(value,index) in allgames.allsy\"\n            :key=\"index\"\n            :icon=\"value.imgurl\"\n            :text=\"value.gameName\"\n            to=\"/list\"\n          />\n        </van-grid>\n      </van-tab>\n      <van-tab title=\"端游\">\n        <van-grid :column-num=\"4\">\n          <van-grid-item\n            v-for=\"(value,index) in allgames.alldy\"\n            :key=\"index\"\n            :icon=\"value.imgurl\"\n            :text=\"value.gameName\"\n            to=\"/list\"\n          />\n        </van-grid>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n<script>\nvar _this = \"\";\nexport default {\n  data() {\n    return {\n      value: \"\",\n      active: 0,\n      allgames: \"\",\n      //暂时保存一开始的数据\n      allgames1: \"\"\n    };\n  },\n  computed: {},\n  methods: {},\n  async created() {\n    let str = await this.$axios(\"http://localhost:10130/buypage\");\n    let arr = str.data[0];\n    this.allgames = arr;\n    _this = this;\n  },\n  mounted() {\n    //原来的数据保存起来\n    //选项卡主体部分\n    // console.log(this.$data.allgames);\n    let allgames1 = \"\";\n    let allBody = this.$refs.allgame.$el.children[1];\n    //选项卡头部\n    let allHead = this.$refs.allgame.$el.children[0].children[0];\n    //右侧索引\n    let barfather = this.$refs.usernameInput.$el.children[0];\n    let Bar = this.$refs.usernameInput.$el.children[0].children;\n    //创建新节点热门\n    let newchild = document.createElement(\"span\");\n    newchild.classList.add(\"van-index-bar__index\");\n    newchild.dataset.index = \"rm\";\n    newchild.innerText = \"热门\";\n    barfather.insertBefore(newchild, Bar[0]);\n    //索引选中高亮\n    window.onload = function() {\n      let allchild = document.getElementsByClassName(\"van-tab\");\n      for (let i = 0; i < Bar.length; i++) {\n        Bar[i].onclick = function() {\n          for (let j = 0; j < Bar.length; j++) {\n            Bar[j].classList.remove(\"active\");\n          }\n          //根据索引字母切换\n          function showdata(a, px) {\n            //用一个空数组保存数据\n            let arr = [];\n            let oldarr = _this.allgames.allgames\n              ? _this.allgames.allgames\n              : _this.allgames1;\n            for (let k = 0; k < oldarr.length; k++) {\n              if (a == 1) {\n                if (oldarr[k].px == px && oldarr[k].gameType == 1) {\n                  arr.push(oldarr[k]);\n                }\n              } else if (a == 2) {\n                if (oldarr[k].px == px && oldarr[k].gameType == 0) {\n                  arr.push(oldarr[k]);\n                }\n              } else if (a == 0) {\n                if (oldarr[k].px == px) {\n                  arr.push(oldarr[k]);\n                }\n              }\n            }\n            return arr;\n          }\n          this.classList.add(\"active\");\n          allgames1 = _this.$data.allgames;\n          _this.$data.allgames1 = allgames1;\n          let newarr = showdata(_this.$data.active, this.innerText);\n          console.log(_this.$data.allgames);\n          if (_this.$data.active == 0) {\n            _this.$data.allgames.allhot = newarr;\n          } else if (_this.$data.active == 1) {\n            _this.$data.allgames.allsy = newarr;\n          } else if (_this.$data.active == 2) {\n            _this.$data.allgames.alldy = newarr;\n          }\n          // _this.$data.allgames = newarr;\n          // console.log(_this.$data.active, this.innerText);\n        };\n      }\n    };\n  }\n};\n</script>\n<style scoped>\n#app .van-index-bar__sidebar {\n  height: 80% !important;\n  overflow: auto;\n}\n.van-index-bar__index {\n  font-size: 20px !important;\n}\n</style>\n\n\n"]}]}