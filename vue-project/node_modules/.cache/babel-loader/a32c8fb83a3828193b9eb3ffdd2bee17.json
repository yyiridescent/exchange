{"remainingRequest":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\src\\components\\signpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\src\\components\\signpage.vue","mtime":1688209971048},{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\babel.config.js","mtime":1687948645000},{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\刘颢涵\\Desktop\\test-main\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/\\u5218\\u98A2\\u6DB5/Desktop/test-main/vue-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data: function data() {\n    return {\n      mess: \"\",\n      messStyle: \"#58bc58\",\n      show: false,\n      account: \"\",\n      password: \"\",\n      Indonesia: \"\",\n      Verification: \"\",\n      message: '',\n      receivedMessage: '',\n      socket: null\n    };\n  },\n  created: function created() {\n    this.randomNum();\n  },\n  methods: {\n    getCookie: function getCookie(key) {\n      //获取cookie值\n      var cookies = document.cookie; //name=malin; pwd=123456\n      var arr = cookies.split('; '); //['name=malin','pwd=123456']\n      for (var i = 0; i < arr.length; i++) {\n        var arr2 = arr[i].split('='); //['name','malin'\n        if (key == arr2[0]) {\n          return arr2[1];\n        }\n      }\n      ;\n    },\n    randomNum: function () {\n      var _randomNum = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var codeData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$axios({\n                method: \"get\",\n                url: \"http://localhost:5000/user/get_Indonesia\"\n              });\n            case 2:\n              codeData = _context.sent;\n              this.Verification = \"data:image/jpg;base64,\" + codeData.data;\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function randomNum() {\n        return _randomNum.apply(this, arguments);\n      }\n      return randomNum;\n    }(),\n    onClickLeft: function onClickLeft() {\n      // router.push({ name: \"home\" });\n      window.location.hash = \"#/\";\n      console.log(window.location.hash);\n    },\n    sign1: function () {\n      var _sign = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var repData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$axios({\n                method: \"post\",\n                url: \"http://localhost:5000/user/login/password\",\n                data: {\n                  account: this.account,\n                  password: this.password,\n                  Indonesia: this.Indonesia\n                }\n              });\n            case 2:\n              repData = _context2.sent;\n              //登录成功\n              if (repData.data.code == 200) {\n                this.messStyle = 'color:#58bc58';\n                this.$router.push({\n                  path: \"footer/home\"\n                });\n                document.cookie = \"username\" + \"=\" + this.account + \";path=/\";\n                document.cookie = \"password\" + \"=\" + this.password + \";path=/\";\n                document.cookie = \"id\" + \"=\" + repData.data.data.id + \";path=/\";\n                //发送更新用户连接信息到socket\n              } else {\n                //登录失败\n                this.messStyle = 'color:red';\n              }\n              this.mess = repData.data.message;\n              this.show = true;\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function sign1() {\n        return _sign.apply(this, arguments);\n      }\n      return sign1;\n    }()\n  },\n  sockets: {\n    connect: function connect() {\n      console.log('socket 连接成功');\n      var data = {\n        socketid: this.$socket.id,\n        userid: this.getCookie('id')\n      };\n      console.log('更新用户连接信息', data);\n      this.$socket.emit('init', data);\n    },\n    message: function message(val) {\n      console.log('message:' + val);\n      this.log_list.push(val);\n    },\n    init: function init(val) {\n      console.log('init:' + val);\n      this.log_list.push(val);\n    },\n    sendmessage: function sendmessage(val) {\n      console.log('sendmessage:' + val);\n      this.log_list.push(val);\n    }\n  }\n};",{"version":3,"names":["data","mess","messStyle","show","account","password","Indonesia","Verification","message","receivedMessage","socket","created","randomNum","methods","getCookie","key","cookies","document","cookie","arr","split","i","length","arr2","_randomNum","_asyncToGenerator","regeneratorRuntime","mark","_callee","codeData","wrap","_callee$","_context","prev","next","$axios","method","url","sent","stop","apply","arguments","onClickLeft","window","location","hash","console","log","sign1","_sign","_callee2","repData","_callee2$","_context2","code","$router","push","path","id","sockets","connect","socketid","$socket","userid","emit","val","log_list","init","sendmessage"],"sources":["src/components/signpage.vue"],"sourcesContent":["<template>\n\n  <div class=\"sign\">\n\n    <van-nav-bar title=\"登陆\" left-arrow @click-left=\"onClickLeft\" />\n\n    <van-cell-group>\n      <van-field v-model=\"account\" clearable label=\"账号\" placeholder=\"请输入账号\" autocomplete=\"off\" />\n      <van-field\n          v-model=\"password\"\n          type=\"password\"\n          label=\"密码\"\n          placeholder=\"请输入密码\"\n          autocomplete=\"off\"\n      />\n      <van-field v-model=\"Indonesia\" clearable label=\"验证码\" placeholder=\"请输入验证码\" autocomplete=\"off\" />\n      <img id=\"Verification\" :src=\"Verification\" alt=\"Base64 Image\" @click=\"randomNum\">\n\n    </van-cell-group>\n    <van-button type=\"info\" size=\"large\" @click=\"sign1()\">登陆</van-button>\n    <div class=\"messageof\">\n      <a href=\"#/register\" class=\"register\">快速注册</a>\n      <a href style=\"color:#aaa\">找回密码</a>\n    </div>\n    <van-divider\n        :style=\"{ color: '#aaa', borderColor: '#aaa', padding: '0 16px',marginTop:'6rem' }\"\n    >其他平台登陆</van-divider>\n\n    <van-popup v-model=\"show\">\n      <p :class=\"{\n        mess : true,\n      }\" :style=\"messStyle\">{{mess}}</p>\n    </van-popup>\n  </div>\n\n\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      mess:\"\",\n      messStyle:\"#58bc58\",\n      show:false,\n      account: \"\",\n      password: \"\",\n      Indonesia:\"\",\n      Verification:\"\",\n      message: '',\n      receivedMessage: '',\n      socket:null\n    };\n  },\n  created() {\n    this.randomNum()\n  },\n  methods: {\n    getCookie(key) {//获取cookie值\n        var cookies = document.cookie;//name=malin; pwd=123456\n        var arr = cookies.split('; ');//['name=malin','pwd=123456']\n        for (var i = 0; i < arr.length; i++) {\n          var arr2 = arr[i].split('=');//['name','malin'\n          if (key == arr2[0]) {\n            return arr2[1];\n          }\n        };\n    },\n    async randomNum() {\n      let codeData = await this.$axios({\n        method: \"get\",\n        url: \"http://localhost:5000/user/get_Indonesia\",\n      });\n      this.Verification = \"data:image/jpg;base64,\"+codeData.data;\n    },\n    onClickLeft() {\n      // router.push({ name: \"home\" });\n      window.location.hash = \"#/\";\n      console.log(window.location.hash);\n    },\n    async sign1() {\n      let repData = await this.$axios({\n        method: \"post\",\n        url: \"http://localhost:5000/user/login/password\",\n        data: {\n          account: this.account,\n          password: this.password,\n          Indonesia: this.Indonesia\n        }\n      });\n      //登录成功\n      if(repData.data.code == 200){\n        this.messStyle = 'color:#58bc58'\n        this.$router.push({path: \"footer/home\"});\n        document.cookie = \"username\" + \"=\" + this.account + \";path=/\";\n        document.cookie = \"password\" + \"=\" + this.password + \";path=/\";\n        document.cookie = \"id\" + \"=\" + repData.data.data.id + \";path=/\";\n        //发送更新用户连接信息到socket\n      }else{\n        //登录失败\n        this.messStyle = 'color:red'\n      }\n      this.mess = repData.data.message;\n      this.show = true;\n    }\n  },\n  sockets:{\n    connect: function(){\n      console.log('socket 连接成功')\n      const data = {\n        socketid:this.$socket.id,\n        userid:this.getCookie('id')\n      }\n      console.log('更新用户连接信息',data)\n      this.$socket.emit('init',data);\n    },\n    message: function(val){\n      console.log('message:'+val);\n      this.log_list.push(val);\n    },\n    init: function(val){\n      console.log('init:'+val);\n      this.log_list.push(val);\n    },\n    sendmessage: function(val){\n      console.log('sendmessage:'+val);\n      this.log_list.push(val);\n    }\n  },\n\n};\n</script>\n<style scoped>\n.sign {\n  background: #efeff4;\n  height: 100%;\n}\n.sign .van-nav-bar {\n  background: #3993cf;\n}\n.sign .van-nav-bar__title {\n  color: #fff;\n}\n.sign .van-nav-bar__arrow {\n  font-size: 20px;\n  color: #fff;\n}\n.sign .van-button--large {\n  width: 90%;\n  margin-left: 0.5rem;\n  margin-top: 0.6rem;\n  background-color: #3993cf;\n  border-radius: 0.1rem;\n  height: 1.4rem;\n  line-height: 1.4rem;\n}\n.sign .messageof {\n  width: 100%;\n  text-align: center;\n  margin-top: 1rem;\n}\n.sign .messageof .register {\n  margin-right: 1rem;\n  color: #3993cf;\n  padding-right: 1rem;\n  border-right: 1px solid #aaa;\n}\n.sign #Verification {\n  width: 3rem;\n  height: 1.3rem;\n  position: absolute;\n  background: #3993cf;\n  top: 2.8rem;\n  right: 0.2rem;\n  z-index: 999;\n  line-height: 1.3rem;\n  text-align: center;\n  font-size: 18px;\n  color: white;\n}\n.sign .mess {\n  color: #58bc58;\n  font-size: 0.5rem;\n  display: block;\n  text-align: center;\n  margin: 20px;\n  /*line-height: 2rem;*/\n  /*color: #58bc58;*/\n  /*font-size: 0.5rem;*/\n  /*display: block;*/\n  /*width: 100%;*/\n  /*height: 2rem;*/\n  /*text-align: center;*/\n}\n.sign .mess.err {\n  color: red;\n}\n\n</style>\n\n\n"],"mappings":"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"}]}