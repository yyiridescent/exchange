{"remainingRequest":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\src\\components\\listpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\src\\components\\listpage.vue","mtime":1565596243000},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683509031364},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1683509032058},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683509031364},{"path":"C:\\Users\\刘颢涵\\Desktop\\gamesTrading--master\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1683509028638}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u5218\\u98A2\\u6DB5\\\\Desktop\\\\gamesTrading--master\\\\vue-project\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Sy from \"./sy.png\";\nimport Xl from \"./xl.png\"; // import Jquery from \"jquey\";\n\nexport default {\n  data: function data() {\n    return {\n      Sy: Sy,\n      Xl: Xl,\n      headlist: \"\",\n      value: 0,\n      //弹出层显示\n      show: true,\n      //headlist默认高亮\n      active1: 0,\n      xzqf: \"\",\n      mainActiveIndex: 0,\n      // 被选中元素的id\n      activeId: 1,\n      option: [{\n        text: \"默认排序\",\n        value: 0\n      }, {\n        text: \"总价最低\",\n        value: 1\n      }, {\n        text: \"发布时间\",\n        value: 2\n      }],\n      //列表懒加载\n      list: [],\n      loading: false,\n      finished: false,\n      //存全部数据\n      alllist: [],\n      oldalllist: []\n    };\n  },\n  methods: {\n    tohost: function tohost() {\n      this.$router.push({\n        path: \"/footer/home\"\n      });\n    },\n    onClickNav: function onClickNav(index) {\n      this.mainActiveIndex = index;\n    },\n    onClickItem: function onClickItem(data) {\n      this.activeId = data.id;\n      var arr = [];\n      console.log(data.text);\n      this.alllist.forEach(function (item, index) {\n        if (item.serverName == data.text) {\n          arr.push(item);\n        }\n      });\n      this.list.length = 0;\n      this.list = arr.concat();\n    },\n    onlist: function onlist(a) {\n      // console.log(this.$el.children[2].children[1]);\n      this.active1 = a;\n      console.log(this.active1);\n      var ul = this.$el.children[2].children[1];\n\n      for (var i = 0; i < ul.children.length; i++) {\n        ul.children[i].classList.remove(\"active\");\n      }\n\n      ul.children[a].classList.add(\"active\");\n    },\n    onLoad: function () {\n      var _onLoad = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var str2, i;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$axios(\"http://localhost:10130/list\");\n\n              case 2:\n                str2 = _context.sent;\n                // this.list = [...this.list, ...str2.data[0].body.results];\n                //如果数组为空就赋值不为空就不用重新赋值\n                this.alllist = this.alllist.length ? this.alllist : str2.data[0].body.results;\n                this.oldalllist = this.alllist.concat();\n                this.$store.state.alllists = this.alllist;\n\n                for (i = 0; i < 15; i++) {\n                  this.list.push(this.alllist[this.list.length]);\n                } // 加载状态结束\n\n\n                this.loading = false; // 数据全部加载完成\n\n                if (this.list.length >= 80) {\n                  this.finished = true;\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onLoad() {\n        return _onLoad.apply(this, arguments);\n      }\n\n      return onLoad;\n    }(),\n    sortlist: function sortlist(index) {\n      if (index == 1) {\n        this.list.length = 0;\n        var b = this.alllist.sort(function (a, b) {\n          return a.price - b.price;\n        });\n        this.alllist = b;\n\n        for (var _i = 0; _i < 15; _i++) {\n          this.list.push(b[_i]);\n        }\n      } else if (index == 2) {\n        this.list.length = 0;\n\n        for (var i = 0; i < this.alllist.length; i++) {\n          var data = new Date(this.alllist[i].createtime);\n          var time = data.getTime();\n          this.alllist[i].time = time;\n        }\n\n        var _b = this.alllist.sort(function (a, b) {\n          return b.time - a.time;\n        });\n\n        this.alllist = _b;\n\n        for (var _i2 = 0; _i2 < 15; _i2++) {\n          this.list.push(_b[_i2]);\n        }\n      } else if (index == 0) {\n        this.alllist = this.oldalllist.concat();\n        this.list.length = 0;\n\n        for (var _i3 = 0; _i3 < 15; _i3++) {\n          this.list.push(this.alllist[_i3]);\n        }\n      }\n    },\n    //列表单击事件\n    todetail: function todetail(index) {\n      this.$store.state.url = location.href;\n      window.location.href = \"#/detail/\".concat(index);\n    }\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var str, arr, i, j;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$axios(\"http://localhost:10130/listhead\");\n\n            case 2:\n              str = _context2.sent;\n              this.headlist = str.data[0].body.gttype; //区服分类\n\n              arr = str.data[0].body.list;\n\n              for (i = 0; i < arr.length; i++) {\n                arr[i].text = arr[i].name;\n\n                for (j = 0; j < arr[i].children.length; j++) {\n                  arr[i].children[j].text = arr[i].children[j].name;\n                }\n              }\n\n              this.xzqf = arr; // let str2 = await this.$axios(\"http://localhost:10130/list\");\n              // this.$store.state.alllists = str2.data[0].body.results;\n\n              this.onLoad(); //获取列表\n              // let str2 = await this.$axios(\"http://localhost:10130/list\");\n              // let arr2 = str2.data[0].body.results;\n              // this.list = arr2;\n              // console.log(arr2);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function mounted() {}\n};",{"version":3,"sources":["listpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,EAAA;AACA,OAAA,EAAA,iB,CACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,EAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,CAJA;AAKA;AACA,MAAA,IAAA,EAAA,IANA;AAOA;AACA,MAAA,OAAA,EAAA,CARA;AASA,MAAA,IAAA,EAAA,EATA;AAUA,MAAA,eAAA,EAAA,CAVA;AAWA;AACA,MAAA,QAAA,EAAA,CAZA;AAaA,MAAA,MAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,CAbA;AAkBA;AACA,MAAA,IAAA,EAAA,EAnBA;AAoBA,MAAA,OAAA,EAAA,KApBA;AAqBA,MAAA,QAAA,EAAA,KArBA;AAsBA;AACA,MAAA,OAAA,EAAA,EAvBA;AAwBA,MAAA,UAAA,EAAA;AAxBA,KAAA;AA0BA,GA5BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KALA;AAMA,IAAA,UANA,sBAMA,KANA,EAMA;AACA,WAAA,eAAA,GAAA,KAAA;AACA,KARA;AASA,IAAA,WATA,uBASA,IATA,EASA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,YAAA,IAAA,CAAA,UAAA,IAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,OAJA;AAKA,WAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA,WAAA,IAAA,GAAA,GAAA,CAAA,MAAA,EAAA;AACA,KApBA;AAqBA,IAAA,MArBA,kBAqBA,CArBA,EAqBA;AACA;AACA,WAAA,OAAA,GAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA,UAAA,EAAA,GAAA,KAAA,GAAA,CAAA,QAAA,CAAA,CAAA,EAAA,QAAA,CAAA,CAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,EAAA,CAAA,QAAA,CAAA,CAAA,EAAA,SAAA,CAAA,MAAA,CAAA,QAAA;AACA;;AACA,MAAA,EAAA,CAAA,QAAA,CAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,QAAA;AACA,KA9BA;AA+BA,IAAA,MA/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgCA,KAAA,MAAA,CAAA,6BAAA,CAhCA;;AAAA;AAgCA,gBAAA,IAhCA;AAiCA;AACA;AACA,qBAAA,OAAA,GAAA,KAAA,OAAA,CAAA,MAAA,GACA,KAAA,OADA,GAEA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAFA;AAGA,qBAAA,UAAA,GAAA,KAAA,OAAA,CAAA,MAAA,EAAA;AACA,qBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,KAAA,OAAA;;AACA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,EAAA;AACA,uBAAA,IAAA,CAAA,IAAA,CAAA,KAAA,OAAA,CAAA,KAAA,IAAA,CAAA,MAAA,CAAA;AACA,iBA1CA,CA2CA;;;AACA,qBAAA,OAAA,GAAA,KAAA,CA5CA,CA6CA;;AACA,oBAAA,KAAA,IAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,uBAAA,QAAA,GAAA,IAAA;AACA;;AAhDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkDA,IAAA,QAlDA,oBAkDA,KAlDA,EAkDA;AACA,UAAA,KAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA,YAAA,CAAA,GAAA,KAAA,OAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,iBAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,KAAA;AACA,SAFA,CAAA;AAGA,aAAA,OAAA,GAAA,CAAA;;AACA,aAAA,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA;AACA;AACA,OATA,MASA,IAAA,KAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,MAAA,GAAA,CAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,OAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,OAAA,CAAA,CAAA,EAAA,UAAA,CAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,OAAA,EAAA;AACA,eAAA,OAAA,CAAA,CAAA,EAAA,IAAA,GAAA,IAAA;AACA;;AACA,YAAA,EAAA,GAAA,KAAA,OAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,iBAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,SAFA,CAAA;;AAGA,aAAA,OAAA,GAAA,EAAA;;AACA,aAAA,IAAA,GAAA,GAAA,CAAA,EAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AACA;AACA,OAdA,MAcA,IAAA,KAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA,UAAA,CAAA,MAAA,EAAA;AACA,aAAA,IAAA,CAAA,MAAA,GAAA,CAAA;;AACA,aAAA,IAAA,GAAA,GAAA,CAAA,EAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,CAAA,KAAA,OAAA,CAAA,GAAA,CAAA;AACA;AACA;AACA,KAjFA;AAkFA;AACA,IAAA,QAnFA,oBAmFA,KAnFA,EAmFA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,GAAA,GAAA,QAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,sBAAA,KAAA;AACA;AAtFA,GA7BA;AAqHA,EAAA,OArHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAsHA,KAAA,MAAA,CAAA,iCAAA,CAtHA;;AAAA;AAsHA,cAAA,GAtHA;AAuHA,mBAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAvHA,CAwHA;;AACA,cAAA,GAzHA,GAyHA,GAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAzHA;;AA0HA,mBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,gBAAA,GAAA,CAAA,CAAA,CAAA,CAAA,IAAA,GAAA,GAAA,CAAA,CAAA,CAAA,CAAA,IAAA;;AACA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,kBAAA,GAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,IAAA,GAAA,GAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,IAAA;AACA;AACA;;AACA,mBAAA,IAAA,GAAA,GAAA,CAhIA,CAiIA;AACA;;AACA,mBAAA,MAAA,GAnIA,CAoIA;AACA;AACA;AACA;AACA;;AAxIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA0IA,EAAA,OA1IA,qBA0IA,CAAA;AA1IA,CAAA","sourcesContent":["<template>\n  <div class=\"list\">\n    <div class=\"flex\">\n      <i class=\"tohost\">\n        <img :src=\"Sy\" alt />\n      </i>\n      <van-nav-bar title=\"地下城与勇士\" left-arrow @click-left=\"tohost\">\n        <van-icon name=\"search\" slot=\"right\" />\n      </van-nav-bar>\n      <div class=\"overbox\">\n        <div class=\"headlistbox\">\n          <div class=\"more-goodstype\">\n            <img :src=\"Xl\" alt />\n            <i></i>\n          </div>\n          <ul class=\"headlist\" ref=\"headlist\">\n            <li\n              v-for=\"(value,index) in headlist\"\n              :key=\"index\"\n              v-text=\"value.gtidname\"\n              :class=\"[{list1:true},{active:active1==index}]\"\n              @click=\"onlist(index)\"\n            ></li>\n          </ul>\n        </div>\n      </div>\n      <van-dropdown-menu>\n        <van-dropdown-item title=\"选择区服\" ref=\"item\">\n          <van-tree-select\n            :items=\"xzqf\"\n            :main-active-index=\"mainActiveIndex\"\n            :active-id=\"activeId\"\n            @click-nav=\"onClickNav\"\n            @click-item=\"onClickItem\"\n          />\n        </van-dropdown-item>\n        <van-dropdown-item v-model=\"value\" :options=\"option\" @change=\"sortlist(value)\" />\n        <van-dropdown-item title=\"高级筛选\"></van-dropdown-item>\n      </van-dropdown-menu>\n    </div>\n    <div class=\"flexbottom\">\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n        <van-cell v-for=\"(item,index) in list\" :key=\"index\" @click=\"todetail(index)\">\n          <div class=\"shoplist\">\n            <div class=\"shophead\">\n              <i>卖家发货</i>\n              <h2 v-text=\"item.title\"></h2>\n              <div class=\"shopbottom\">\n                <div class=\"shopleft\">\n                  <p>区服:{{item.groupName}}/{{item.serverName}}</p>\n                  <p>\n                    库存\n                    <em>{{item.stock}}</em>件\n                  </p>\n                </div>\n                <div class=\"shopright\">\n                  <span>￥{{item.price}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </van-cell>\n      </van-list>\n    </div>\n  </div>\n</template>\n<script>\nimport Sy from \"./sy.png\";\nimport Xl from \"./xl.png\";\n// import Jquery from \"jquey\";\nexport default {\n  data() {\n    return {\n      Sy,\n      Xl,\n      headlist: \"\",\n      value: 0,\n      //弹出层显示\n      show: true,\n      //headlist默认高亮\n      active1: 0,\n      xzqf: \"\",\n      mainActiveIndex: 0,\n      // 被选中元素的id\n      activeId: 1,\n      option: [\n        { text: \"默认排序\", value: 0 },\n        { text: \"总价最低\", value: 1 },\n        { text: \"发布时间\", value: 2 }\n      ],\n      //列表懒加载\n      list: [],\n      loading: false,\n      finished: false,\n      //存全部数据\n      alllist: [],\n      oldalllist: []\n    };\n  },\n  methods: {\n    tohost() {\n      this.$router.push({\n        path: \"/footer/home\"\n      });\n    },\n    onClickNav(index) {\n      this.mainActiveIndex = index;\n    },\n    onClickItem(data) {\n      this.activeId = data.id;\n      let arr = [];\n      console.log(data.text);\n      this.alllist.forEach((item, index) => {\n        if (item.serverName == data.text) {\n          arr.push(item);\n        }\n      });\n      this.list.length = 0;\n      this.list = arr.concat();\n    },\n    onlist(a) {\n      // console.log(this.$el.children[2].children[1]);\n      this.active1 = a;\n      console.log(this.active1);\n      let ul = this.$el.children[2].children[1];\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].classList.remove(\"active\");\n      }\n      ul.children[a].classList.add(\"active\");\n    },\n    async onLoad() {\n      let str2 = await this.$axios(\"http://localhost:10130/list\");\n      // this.list = [...this.list, ...str2.data[0].body.results];\n      //如果数组为空就赋值不为空就不用重新赋值\n      this.alllist = this.alllist.length\n        ? this.alllist\n        : str2.data[0].body.results;\n      this.oldalllist = this.alllist.concat();\n      this.$store.state.alllists = this.alllist;\n      for (let i = 0; i < 15; i++) {\n        this.list.push(this.alllist[this.list.length]);\n      }\n      // 加载状态结束\n      this.loading = false;\n      // 数据全部加载完成\n      if (this.list.length >= 80) {\n        this.finished = true;\n      }\n    },\n    sortlist(index) {\n      if (index == 1) {\n        this.list.length = 0;\n        let b = this.alllist.sort(function(a, b) {\n          return a.price - b.price;\n        });\n        this.alllist = b;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(b[i]);\n        }\n      } else if (index == 2) {\n        this.list.length = 0;\n        for (var i = 0; i < this.alllist.length; i++) {\n          var data = new Date(this.alllist[i].createtime);\n          var time = data.getTime();\n          this.alllist[i].time = time;\n        }\n        let b = this.alllist.sort(function(a, b) {\n          return b.time - a.time;\n        });\n        this.alllist = b;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(b[i]);\n        }\n      } else if (index == 0) {\n        this.alllist = this.oldalllist.concat();\n        this.list.length = 0;\n        for (let i = 0; i < 15; i++) {\n          this.list.push(this.alllist[i]);\n        }\n      }\n    },\n    //列表单击事件\n    todetail(index) {\n      this.$store.state.url = location.href;\n      window.location.href = `#/detail/${index}`;\n    }\n  },\n  async created() {\n    let str = await this.$axios(\"http://localhost:10130/listhead\");\n    this.headlist = str.data[0].body.gttype;\n    //区服分类\n    let arr = str.data[0].body.list;\n    for (let i = 0; i < arr.length; i++) {\n      arr[i].text = arr[i].name;\n      for (let j = 0; j < arr[i].children.length; j++) {\n        arr[i].children[j].text = arr[i].children[j].name;\n      }\n    }\n    this.xzqf = arr;\n    // let str2 = await this.$axios(\"http://localhost:10130/list\");\n    // this.$store.state.alllists = str2.data[0].body.results;\n    this.onLoad();\n    //获取列表\n    // let str2 = await this.$axios(\"http://localhost:10130/list\");\n    // let arr2 = str2.data[0].body.results;\n    // this.list = arr2;\n    // console.log(arr2);\n  },\n  mounted() {}\n};\n</script>\n<style scoped>\n.list .van-nav-bar {\n  width: 95%;\n}\n.list .van-nav-bar__arrow {\n  font-size: 20px;\n  color: #000;\n}\n.list .van-nav-bar__title {\n  font-weight: 700;\n}\n.list .tohost {\n  position: fixed;\n  top: 0.4rem;\n  z-index: 12;\n  right: 0.2rem;\n}\n.list .tohost img {\n  width: 0.5rem;\n}\n.list .van-nav-bar .van-icon-search {\n  color: #000;\n  font-size: 0.7rem;\n}\n/* 头部列表 */\n.list .headlistbox::-webkit-scrollbar {\n  background-color: #fff;\n}\n.list .flexbottom {\n  margin-top: 3.5rem;\n}\n.list .van-dropdown-menu {\n  position: fixed;\n  width: 100%;\n  top: 2rem;\n  z-index: 999;\n  padding-right: 10%;\n}\n.list .van-nav-bar {\n  position: fixed;\n  top: 0;\n}\n.list .overbox {\n  position: fixed;\n  top: 1.4rem;\n  width: 100%;\n  z-index: 999;\n  padding-right: 10%;\n  padding-left: 0.5rem;\n  background: #fff;\n  z-index: 999;\n}\n.list .headlistbox {\n  overflow-x: auto;\n}\n.list .headlist::after {\n  content: \"\";\n  height: 0;\n  clear: both;\n  display: block;\n  overflow: hidden;\n  visibility: hidden;\n}\n.list .headlistbox .more-goodstype {\n  position: fixed;\n  top: 1.4rem;\n  right: 0.2rem;\n  z-index: 999;\n}\n.list .headlistbox .more-goodstype i {\n  position: absolute;\n  left: 0px;\n  height: 0.45rem;\n  background: #ccc;\n  width: 1px;\n  top: 0.2rem;\n  left: 0.05rem;\n}\n.list .headlistbox .more-goodstype img {\n  width: 0.8rem;\n}\n.list .headlist {\n  width: 2000px;\n}\n.list .headlist li {\n  float: left;\n  line-height: 0.4rem;\n  font-size: 0.4rem;\n  padding: 0 0.4rem;\n  color: #666;\n  box-sizing: border-box;\n  padding-bottom: 0.5rem;\n}\n.list .headlist li.active {\n  color: #39f;\n  border-bottom: 2px solid #39f;\n  font-weight: 700;\n}\n.list .shophead i {\n  font-size: 0.26667rem;\n  display: inline-block;\n  vertical-align: middle;\n  padding: 0.02667rem 0.13333rem;\n  border-radius: 0.08rem;\n  margin-right: 0.05333rem;\n  margin-top: -0.08rem;\n  background: linear-gradient(90deg, #55c91c, #61ac14);\n  color: white;\n}\n.list .shophead h2 {\n  display: inline;\n  font-size: 0.4rem;\n  font-weight: 400;\n  color: #333;\n}\n.list .shophead p {\n  color: #999;\n  font-size: 0.32rem;\n  line-height: 0.64rem;\n}\n.list .shophead span {\n  color: #ff6700;\n  font-size: 0.45333rem;\n  font-weight: 700;\n  overflow: hidden;\n}\n.list .shopleft {\n  float: left;\n}\n.list .shopright {\n  float: right;\n}\n</style>\n\n\n"],"sourceRoot":"src/components"}]}